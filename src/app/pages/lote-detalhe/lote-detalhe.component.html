<app-header></app-header>
<div class="main-content">
  <div class="custom-header-details">
    <p-button
      icon="pi pi-external-link"
      label="V√™ fotos"
      (click)="displayBasic = true"
    ></p-button>

    <div class="contador">‚è≥ Faltam 14h 15s</div>
  </div>

  <p-galleria
    [value]="images"
    [(visible)]="displayBasic"
    [numVisible]="5"
    [circular]="true"
    [fullScreen]="true"
    [showItemNavigators]="true"
    [showThumbnails]="true"
    [containerStyle]="{ 'max-width': '50%' }"
  >
    <ng-template pTemplate="item" let-item>
      <img
        [src]="item.itemImageSrc"
        [alt]="item.alt"
        style="width: 100%; display: block"
      />
    </ng-template>
    <ng-template pTemplate="thumbnail" let-item>
      <img
        [src]="item.thumbnailImageSrc"
        [alt]="item.alt"
        style="display: block"
      />
    </ng-template>
  </p-galleria>

  <div class="detalhe-lote-container">
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
      <span>In√≠cio</span> ‚Ä∫ <span>P√°tio S√£o Carlos-SP</span> ‚Ä∫
      <span>Carros</span> ‚Ä∫ <span>Fiat</span> ‚Ä∫
      <span>2025</span>
    </nav>

    <div class="lote-main">
      <!-- Informa√ß√µes do ve√≠culo -->
      <div class="lote-info-section">
        <h1 class="lote-title">FIAT/CRONOS DRIVE</h1>
        <p class="lote-subtitle">
          Leil√£o de Carros Fiat na Leilo. Carros Leil√£o Fiat
        </p>

        <div class="lote-details-grid">
          <div class="detail-item">
            <span class="label">Ano</span>
            <span class="value">2024/2025</span>
          </div>
          <div class="detail-item">
            <span class="label">Km</span>
            <span class="value">14.798</span>
          </div>
          <div class="detail-item">
            <span class="label">Combust√≠vel</span>
            <span class="value">Flex</span>
          </div>
          <div class="detail-item">
            <span class="label">Cor</span>
            <span class="value">Preta</span>
          </div>
          <div class="detail-item">
            <span class="label">Tipo</span>
            <span class="value">Carros</span>
          </div>
          <div class="detail-item">
            <span class="label">Tipo Retomada</span>
            <span class="value">Recuperado de Financiamento</span>
          </div>
          <div class="detail-item">
            <span class="label">Valor Mercado</span>
            <span class="value">R$ 84.855,00</span>
          </div>
          <div class="detail-item">
            <span class="label">Possui Chave</span>
            <span class="value">Sim</span>
          </div>
          <div class="detail-item full-width">
            <span class="label">Localiza√ß√£o</span>
            <span class="value">PATIO SAO CARLOS-SP (S√ÉO CARLOS/SP)</span>
          </div>
          <div class="detail-item full-width">
            <span class="label">Prazo est. documenta√ß√£o</span>
            <span class="value">45 dias √∫teis</span>
          </div>
        </div>

        <div class="lote-description">
          <h3>Descri√ß√£o</h3>
          <p>
            Ipva 2025 por conta do comitente / vistoria R$ 250,00 / taxa de
            preenchimento atpv-e R$ 50,00 / vendido no estado em que se
            encontra, maiores informa√ß√µes em condi√ß√µes de venda/editais do
            evento. Venda por foto ‚Äì p√°tio S√£o Carlos-SP ‚Äì retirada na origem
            por conta do arrematante.
          </p>
        </div>
      </div>

      <!-- Painel de Lances -->
      <div class="lote-lance-panel">
        <div class="status">üî• Aberto para Lances</div>

        <div class="lance-valor">
          <span>Lance atual</span>
          <strong>R$ {{ lanceAtual | number : "1.2-2" }}</strong>
        </div>

        <div class="lance-input">
          <p-iftalabel>
            <p-inputnumber
              [(ngModel)]="valorLance"
              inputId="price_input"
              mode="currency"
              currency="BRL"
              locale="pt-BR"
            />
          </p-iftalabel>
          <button class="btn-lance" (click)="enviarLance(loteId, valorLance)">
            Dar Lance
          </button>
        </div>

        <div class="lances-historico">
          <h4>üìú √öltimos Lances</h4>
          <ul>
            <li *ngFor="let lance of lances">
              üí∞ <strong>{{ lance.valor | currency : "BRL" }}</strong> -
              <small>{{ lance.usuario }}</small>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
